<div class="min-h-screen min-w-screen bg-gradient-to-tr from-blue-100 to-pink-100 rounded-lg shadow-lg">
  <app-list-user />

<div class="container mx-auto p-6 max-w-2xl">
  <h1 class="text-3xl font-bold mb-6 text-gray-800">Chat Application</h1>

  <div class="mb-4 flex gap-2">
    <input
      [(ngModel)]="message"
      (keyup.enter)="sendMessage()"
      type="text"
      placeholder="Type your message..."
      class="flex-1 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      aria-label="Message input"
    >
    <button
      (click)="sendMessage()"
      [disabled]="!message.trim()"
      class="bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
    >
      Send
    </button>
  </div>

  <div class="border rounded-lg p-4 h-96 overflow-y-auto bg-gray-50">
    <p *ngFor="let msg of webSocketService.messages$ | async" class="mb-2 text-gray-700">{{ msg }}</p>
    <p *ngIf="(webSocketService.messages$ | async)?.length === 0" class="text-gray-500 italic">
      No messages yet...
    </p>
  </div>
</div>
  
  <div class="messages fixed bottom-8 right-8 flex flex-col items-end gap-2">

    @if (sharedService.isDisplayMessenger()) {
    @if (sharedService.isOnListRoom()) {
    <app-list-room-component />
    } @else {
    <app-private-message-component />
    }
    }
    <button (click)="toggleMessenger()" class="bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-lg"
      aria-label="Add">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10 transition-all"
      [ngStyle]="{'transform': sharedService.isDisplayMessenger() ? 'rotate(45deg)' : 'rotate(0deg)'}">
        <path fill-rule="evenodd"
          d="M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z"
          clip-rule="evenodd" />
      </svg>
    </button>
  </div>
</div>

<app-dialog-outlet />